webpackJsonp([20],{J4w6:function(t,e){},QrVH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("GnUe");var o={components:{Money:n("da+X").a},name:"login",data:function(){return{login:{phone:"",password:"",error:""}}},mounted:function(){this.init()},methods:{callback:function(t){var e=this;if(2!==t.ret){var n={userName:this.login.phone,password:this.login.password,randstr:t.randstr,ticketm:t.ticket};this.$axios.post("http://01.coinunio.com/api/user/login/",n).then(function(t){var n=t.data;n.IsSuccess?(e.logIn.error="",e.$store.commit("SET_LOGIN",!0),n.Result.k?window.location.href=e.$store.state.shareAddress+n.Result.k:e.$router.push("/Fomo3D")):(e.geetest=null,e.login.error=n.Message,e.captchaObj&&e.captchaObj.reset())},function(t){e.login.error="系统错误，请稍后重试"})}},setMinHeight:function(){return"min-height:"+window.screen.height+"px"},phoneFill:function(t){if(!t)return this.$tips("请输入手机号码"),"101";if(t.indexOf("@")>0){return/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(t)?null:(this.$tips("请输入有效邮箱"),"102")}return/^1\d{10}$/.test(t)?null:(this.$tips("请输入11位有效手机号码"),"103")},secretFill:function(t){var e=t;return""===e?"请输入密码":e.length<8||e.length>16?"密码必须大于8位小于16位":new RegExp(/[A-Za-z].*[0-9]|[0-9].*[A-Za-z]/).test(e)?null:"密码必须必须包含数字和字母"},init:function(t){},logIn:function(){var t=this,e=new FormData;e.append("loginName",this.login.phone),e.append("loginPwd",$.md5(this.login.password)),this.$axios.post("http://01.coinunio.com/channel-server/user/login.do",e).then(function(e){var n=e.data,o=n.result;if("200"==n.errorCode){var i={Id:o.id};t.$axios.post("http://01.coinunio.com/api/happymoney/logintohm/",i).then(function(e){var n=e.data;if(n.IsSuccess){localStorage.clear(),localStorage.setItem("accesstoken",n.Result.accesstoken),localStorage.setItem("userid",t.login.phone),localStorage.setItem("uid",o.id),sessionStorage.isloginInfo=!0;var i=n.Result.url.split("01.coinunio.com","localhost:8080");window.location.href=i}else t.$get_error("tips",n.errorCode,n.errorMessage)},function(e){t.$get_error("reload")})}else t.$get_error("tips",n.errorCode,n.errorMessage)},function(e){t.$get_error("reload")})},loginSuccess:function(){},toRegister:function(){this.$router.replace({name:"register"})},openFindSecret:function(){this.$router.replace({name:"findSecret"})}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("img",{staticClass:"cl",staticStyle:{height:"2.36rem",position:"relative",bottom:"-1.2rem","z-index":"5"},attrs:{src:n("p46B")}}),t._v(" "),o("div",{staticClass:"logo-content ",attrs:{flex:"dir:top main:center cross:center"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.phone,expression:"login.phone"}],attrs:{placeholder:"请输入手机号码或邮箱"},domProps:{value:t.login.phone},on:{input:function(e){e.target.composing||t.$set(t.login,"phone",e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{placeholder:"请输入6-16位数字加字母密码",type:"password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),t._v(" "),o("p",{staticStyle:{width:"100%"},attrs:{id:"login"}}),t._v(" "),o("p",{staticClass:"loginChange",attrs:{flex:"main:justify"}},[o("span",{staticClass:"miaobian",staticStyle:{"margin-right":"0.5rem",color:"#3d38fb"},on:{click:t.toRegister}},[t._v("立即注册")]),t._v(" "),o("span",{staticClass:"miaobian",staticStyle:{"margin-left":"0.5rem",color:"#3d38fb"},on:{click:function(e){t.openFindSecret()}}},[t._v("忘记密码")])]),t._v(" "),o("button",{staticClass:"btn-yellow",on:{click:t.logIn}},[t._v("登录")])])])},staticRenderFns:[]};var r=n("VU/8")(o,i,!1,function(t){n("tiVH")},"data-v-95c23e00",null);e.default=r.exports},"da+X":function(t,e,n){"use strict";var o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"money"},[n("p",[t._v("欢乐四选一奖池：")]),t._v(" "),n("div",{staticClass:"num"},t._l(t.total,function(e,o){return n("span",[t._v(t._s(e))])}))])},staticRenderFns:[]};var i=n("VU/8")({name:"money",props:{total:{}},methods:{getStyle:function(t){}}},o,!1,function(t){n("J4w6")},"data-v-0f6f5631",null);e.a=i.exports},tiVH:function(t,e){}});