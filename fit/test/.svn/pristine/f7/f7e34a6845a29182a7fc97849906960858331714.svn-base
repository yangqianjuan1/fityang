webpackJsonp([38],{"3RP8":function(t,e){},UHFo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bh5B"),s=a("Isu2"),l={components:{MyDialog:a("TtmE").a,Selection:s.a,Scroll:i.a},name:"mycompetition",data:function(){return{offset:0,pageSize:20,selectValue:[{value:"猜奇偶"},{value:"三选一"},{value:"四区间"}],type:1,type1:{title:[{name:"奇数"},{name:"偶数"}],value:[{value:""},{value:""}]},type2:{title:[{name:"奇数"},{name:"字母"},{name:"偶数"}],value:[{value:""},{value:""},{value:""}]},type3:{title:[{name:"0-3"},{name:"4-7"},{name:"8-B"},{name:"C-F"}],value:[{value:""},{value:""},{value:""},{value:""}]},timeArr:[{value:"100"},{value:"200"},{value:"300"},{value:"600"},{value:"1200"},{value:"2400"}],detailType1:[{name:"奇数"},{name:"偶数"}],detailType2:[{name:"奇数"},{name:"字母"},{name:"偶数"}],detailType3:[{name:"0-3"},{name:"4-7"},{name:"8-B"},{name:"C-F"}],index:null,time:null,capital:null,list:[],detailDlg:!1,detailType:{odd:[],index:0,hash:1,capital:0},detailCur:-1,detailHashFront:"",detailHashMid:"",detailHashLast:""}},computed:{setPullUpLoad:function(){return{threshold:this.$store.state.upLoad}},setPullDown:function(){return{threshold:100,stop:50}}},mounted:function(){this.getRecordList()},methods:{getType:function(t){switch(t.Odds.length){case 2:return"猜奇偶";case 3:return"三选一";case 4:return"四区间"}},getTime:function(t){this.time=t},setScrollMinHeight:function(){if(document.getElementById("warp"))return"min-height:"+(document.getElementById("warp").offsetHeight+1)+"px"},getResult:function(t){switch(t.Status){case 0:case 1:case 2:case 4:return"待结算";case 8:return"已失效";case 16:return"待结算";case 32:return t.Profit;case 64:return"已失效"}},reSet:function(){for(var t in this.type1.value)this.type1.value[t].value="";for(var e in this.type2.value)this.type2.value[e].value="";for(var a in this.type3.value)this.type3.value[a].value="";this.index="",this.capital=""},reSetDetail:function(){this.detailHashFront="",this.detailHashMid="",this.detailHashLast="",this.detailType.index="",this.detailCur=-1,this.detailType.capital=""},getRecordList:function(t){var e=this,a={offset:"UpLoad"===t?this.offset:0,size:this.pageSize};this.$axios.post("http://01.coinunio.com/api/betgame/getmybet/",a).then(function(a){var i=a.data;if(i.IsSuccess){if("UpLoad"===t?e.$refs.scroll.finishiPullUp():e.$refs.scroll.finishPullDown(),!i.Result.Data)return;e.list="UpLoad"===t?e.list.concat(i.Result.Data):i.Result.Data,e.offset=e.list.length}else"UpLoad"===t?e.$refs.scroll.finishiPullUp():e.$refs.scroll.finishPullDown(),e.$get_error("tips",i.Code,i.Message)},function(a){"UpLoad"===t?e.$refs.scroll.finishiPullUp():e.$refs.scroll.finishPullDown(),e.$get_error("reload")})},selectFunc:function(t){for(var e in this.selectValue)this.selectValue[e].value===t&&(this.type=parseInt(e),this.reSet())},ifNumber:function(t){return!isNaN(t)&&"NaN"!=parseFloat(t).toString()},detail:function(t){switch(this.reSetDetail(),t.Odds.length){case 2:this.detailType.odd=this.detailType1;break;case 3:this.detailType.odd=this.detailType2;break;case 4:this.detailType.odd=this.detailType3}for(var e in this.detailType.odd)this.detailType.odd[e].Odds=t.Odds[e],this.detailType.odd[e].people=t.Statis?t.Statis[e].Count:0,this.detailType.odd[e].bet=t.Statis?t.Statis[e].Amount:0;this.detailType.hash=t.BlockEnd?t.BlockEnd.BlockHash:"暂无",t.BlockEnd.BlockHash&&(0===t.UnitIndex?(this.detailHashFront="",this.detailHashMid=t.BlockEnd.BlockHash.charAt(t.UnitIndex),this.detailHashLast=t.BlockEnd.BlockHash.substring(t.UnitIndex,t.BlockEnd.BlockHash.length)):(this.detailHashFront=t.BlockEnd.BlockHash.substring(0,t.UnitIndex-1),this.detailHashMid=t.BlockEnd.BlockHash.charAt(t.UnitIndex-1),this.detailHashLast=t.BlockEnd.BlockHash.substring(t.UnitIndex,t.BlockEnd.BlockHash.length))),this.detailType.index=t.UnitIndex,this.detailType.capital=t.CurrentCapitalPool?t.CurrentCapitalPool:"",32===t.Status?this.detailCur=t.Result:this.detailCur=-1,this.detailDlg=!0},closeDialog:function(){this.detailDlg=!1},begin:function(){var t=this,e=void 0;switch(this.type){case 0:e=this.type1;break;case 1:e=this.type2;break;case 2:e=this.type3}var a=[];for(var i in e.value){if(a[i]=e.value[i].value,/^[\s]*$/.test(a[i]))return void this.$tips(e.title[i].name+"倍数不能为零");if(a[i]=a[i].replace(/\s+/g,""),!this.ifNumber(a[i]))return void this.$tips(e.title[i].name+"倍数请输入数字");if(a[i]=parseFloat(a[i]).toString(),a[i]<=0)return void this.$tips(e.title[i].name+"倍数必须大于零")}if(/^[\s]*$/.test(this.index))this.$tips("竞猜位数不能为零");else if(this.index=this.index.replace(/\s+/g,""),this.ifNumber(this.index))if(this.index=parseFloat(this.index).toString(),/^[1-9]\d*$/.test(this.index))if(this.index<9||this.index>40)this.$tips("竞猜位数需在9-40");else if(/^[\s]*$/.test(this.capital)||0==this.capital)this.$tips("竞猜金额不能为零");else if(this.capital=this.capital.replace(/\s+/g,""),this.ifNumber(this.capital))if(this.capital=parseFloat(this.capital).toString(),this.capital<1)this.$tips("竞猜金额最低为1 FMVP");else{var s={odds:a,unitIndex:parseInt(this.index),initCapitalPool:parseFloat(this.capital),endBlockCount:parseInt(this.time)};this.$axios.post("http://01.coinunio.com/api/betgame/create/",s).then(function(e){var a=e.data;a.IsSuccess?(t.$tips("创建成功"),t.reSet(),t.getRecordList()):t.$get_error("tips",a.Code,a.Message)},function(e){t.$get_error("network")})}else this.$tips("竞猜金额请输入数字");else this.$tips("请输入9-40正整数竞猜位数");else this.$tips("竞猜位数请输入数字")}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("scroll",{ref:"scroll",attrs:{top:"3",pullUpLoad:t.setPullUpLoad,pullDownRefresh:t.setPullDown,pullDownFuc:t.getRecordList,pullUpLoadFuc:t.getRecordList,pullUpLoadFucParam:"UpLoad",pullDownFucParam:"fresh"}},[a("div",{style:t.setScrollMinHeight()},[a("div",{staticStyle:{padding:"0.2rem 0.5rem"},attrs:{flex:"main:justify cross:center"}},[a("div",{attrs:{flex:"main:center "}},[a("p",{staticClass:"leftTitle",staticStyle:{"line-height":"0.6rem",color:"#ffffff"}},[t._v("类型：")]),t._v(" "),a("selection",{attrs:{values:t.selectValue,selectFunc:t.selectFunc}})],1),t._v(" "),a("button",{staticClass:"open btn-yellow",on:{click:t.begin}},[t._v("确认开始")])]),t._v(" "),a("table",{staticStyle:{padding:"0 0.5rem"},style:{"max-width":t.$store.state.maxWidth}},[0===t.type?a("tr",[a("td",{staticStyle:{width:"2.5rem","vertical-align":"bottom"}},[a("p",{staticClass:"leftTitle  usual"},[t._v("信心比率：")])]),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("table",{staticClass:"tab",attrs:{cellspacing:"0",cellpadding:"0"}},[a("tr",t._l(t.type1.title,function(e){return a("th",[t._v(t._s(e.name))])})),t._v(" "),a("tr",t._l(t.type1.value,function(e){return a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value.value"}],attrs:{placeholder:"0"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}))])])]):t._e(),t._v(" "),1===t.type?a("tr",[a("td",{staticStyle:{width:"2.5rem","vertical-align":"bottom"}},[a("p",{staticClass:"leftTitle  usual"},[t._v("信心比率：")])]),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("table",{staticClass:"tab",attrs:{cellspacing:"0"}},[a("tr",t._l(t.type2.title,function(e){return a("th",[t._v(t._s(e.name))])})),t._v(" "),a("tr",t._l(t.type2.value,function(e){return a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value.value"}],attrs:{placeholder:"0"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}))])])]):t._e(),t._v(" "),2===t.type?a("tr",[a("td",{staticStyle:{width:"2.5rem","vertical-align":"bottom"}},[a("p",{staticClass:"leftTitle miaobian-lan usual"},[t._v("信心比率：")])]),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("table",{staticClass:"tab",attrs:{cellspacing:"0"}},[a("tr",t._l(t.type3.title,function(e){return a("th",[t._v(t._s(e.name))])})),t._v(" "),a("tr",t._l(t.type3.value,function(e){return a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value.value"}],attrs:{placeholder:"0"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}))])])]):t._e(),t._v(" "),a("tr",{staticClass:"ipt"},[a("td",{staticStyle:{"vertical-align":"top"}},[a("p",{staticClass:"leftTitle miaobian-lan usual",staticStyle:{"line-height":"0.8rem",height:"0.8rem"}},[t._v("开奖区块：")])]),t._v(" "),a("td",[a("selection",{staticStyle:{height:"0.8rem"},attrs:{values:t.timeArr},on:{curValue:t.getTime}})],1)]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",{staticClass:"remarks"},[t._v("确认开局后出现的第"),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.time))]),t._v("个区块作为竞猜区块")])]),t._v(" "),a("tr",{staticClass:"ipt"},[a("td",{staticStyle:{"vertical-align":"top"}},[a("p",{staticClass:"leftTitle miaobian-lan usual",staticStyle:{"line-height":"0.8rem",height:"0.8rem"}},[t._v("竞猜位数：")])]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.index,expression:"index"}],attrs:{placeholder:"9-40"},domProps:{value:t.index},on:{input:function(e){e.target.composing||(t.index=e.target.value)}}})])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",{staticClass:"remarks"},[t._v("竞猜区块的第"),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.index))]),t._v("位数字或字母作为竞猜位")])]),t._v(" "),a("tr",{staticClass:"ipt"},[a("td",{staticStyle:{"vertical-align":"top"}},[a("p",{staticClass:"leftTitle miaobian-lan usual",staticStyle:{"line-height":"0.8rem",height:"0.8rem"}},[t._v("竞猜金额：")])]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.capital,expression:"capital"}],attrs:{placeholder:"最低1 FMVP"},domProps:{value:t.capital},on:{input:function(e){e.target.composing||(t.capital=e.target.value)}}})])])]),t._v(" "),t.list.length>0?a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"resultList",attrs:{flex:"main:center cross:center box:mean"}},[a("div",[t._v("场次")]),t._v(" "),a("div",[t._v("类型")]),t._v(" "),a("div",[t._v("状态")]),t._v(" "),a("div",[t._v("操作")])]),t._v(" "),t._l(t.list,function(e){return a("div",{staticClass:" resultcontent usual"},[a("ul",{attrs:{flex:"main:center cross:center box:mean"}},[a("li",{staticClass:"text_nowarp"},[t._v("#"+t._s(e.BetId))]),t._v(" "),a("li",{staticClass:"text_nowarp"},[t._v(t._s(t.getType(e)))]),t._v(" "),a("li",{staticClass:"text_nowarp"},[t._v(t._s(t.getResult(e)))]),t._v(" "),a("li",[a("button",{staticClass:"btn  btn-violet",on:{click:function(a){t.detail(e)}}},[t._v("查看详情")])])])])})],2):t._e()])]),t._v(" "),a("my-dialog",{attrs:{dialogOpen:t.detailDlg}},[a("div",{staticClass:"takeCenter detaildlg"},[a("p",{staticStyle:{"text-align":"center","font-size":"0.5rem","font-weight":"600"}},[t._v("竞猜详情")]),t._v(" "),a("table",{attrs:{cellspacing:"0"}},[a("tr",{staticClass:"first "},[a("th"),t._v(" "),a("th",[t._v("信息比率")]),t._v(" "),a("th",[t._v("参与人数")]),t._v(" "),a("th",[t._v("竞猜数")])]),t._v(" "),t._l(t.detailType.odd,function(e,i){return a("tr",{staticClass:"miaobian-hong",class:i===t.detailCur?"cur":""},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.Odds))]),t._v(" "),a("td",[t._v(t._s(e.people))]),t._v(" "),a("td",[t._v(t._s(e.bet))])])})],2),t._v(" "),a("div",{staticClass:"under-line",staticStyle:{margin:"0.2rem 0"}}),t._v(" "),a("p",{staticClass:"num-abc-warp dlgInfo"},[t._v("竞猜区块："),a("span",[t._v(t._s(t.detailHashFront))]),a("span",{staticClass:"special-color"},[t._v(t._s(t.detailHashMid))]),a("span",[t._v(t._s(t.detailHashLast))])]),t._v(" "),a("p",{staticClass:"dlgInfo "},[a("span",{staticStyle:{display:"inline-block","text-align":"left"}},[t._v("竞猜位：")]),a("span",{staticClass:"special-color"},[t._v(t._s(t.detailType.index))])]),t._v(" "),a("p",{staticClass:"dlgInfo "},[a("span",{staticStyle:{display:"inline-block","text-align":"left"}},[t._v("竞猜金额：")]),a("span",{staticClass:"special-color"},[t._v(t._s(t.detailType.capital))])]),t._v(" "),a("button",{staticClass:"cancel cl btn-violet",on:{click:t.closeDialog}},[t._v("取消")])])])],1)},staticRenderFns:[]};var r=a("VU/8")(l,n,!1,function(t){a("3RP8")},"data-v-2df434d1",null);e.default=r.exports}});