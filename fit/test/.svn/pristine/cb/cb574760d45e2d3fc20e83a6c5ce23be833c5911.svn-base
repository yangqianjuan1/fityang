webpackJsonp([39],{"eN+B":function(t,e){},qN0f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("bh5B"),a=i("6iZb"),n={components:{Paging:i("prc4").a,ComfireDialog:a.a,Scroll:s.a},name:"list",data:function(){return{editCur:!1,offset:0,pageSize:20,totalPage:0,empty:!1,maxBet:"",edit:{balance:1e3,min:100,max:1e3,bet:"",betdlg:!1,showMax:!1},isCur1:-1,isCur2:-1,isCur3:-1,Tiltetype:{type1:[{name:"竞猜位"},{name:"奇数"},{name:"偶数"}],type2:[{name:"竞猜位"},{name:"奇数"},{name:"字母"},{name:"偶数"}],type3:[{name:"竞猜位"},{name:"0-3"},{name:"4-7"},{name:"8-B"},{name:"C-F"}]},list1:[],choose:{BetId:"",title:[{name:"竞猜位"},{name:"奇数"},{name:"偶数"}]}}},mounted:function(){this.getList()},computed:{setPullUpLoad:function(){return{threshold:100}},setPullDown:function(){return{threshold:100,stop:50}},maxBetting:function(){return""!==this.maxBet}},methods:{getTitle:function(t){if(t.Odds)switch(t.Odds.length){case 2:return this.Tiltetype.type1;case 3:return this.Tiltetype.type2;case 4:return this.Tiltetype.type3}},setScrollMinHeight:function(){if(document.getElementById("warp"))return"min-height:"+(document.getElementById("warp").offsetHeight+1)+"px"},getList:function(t){var e=this,i=0;t&&(i=this.pageSize*t),this.$axios.get("http://01.coinunio.com/api/betgame/list/?offset="+i+"&size="+this.pageSize).then(function(t){var i=t.data;i.IsSuccess?(e.totalPage=Math.floor(i.Result.total/e.pageSize),e.list1=i.Result.Data,0===i.Result.Data.length?e.empty=!0:e.empty=!1,e.offset=e.list1.length):e.$get_error("tips",i.Code,i.Message)},function(t){e.$get_error("network")})},chooseBet:function(t,e,i,s){0!==e&&(this.isCur1=t,void 0===e?(this.isCur2=i,this.isCur3=i):void 0===i&&(this.isCur2=e,this.isCur3=e-1),this.choose=s,this.getMaxBet(),this.editCur=!0,this.edit.betdlg=!0)},onScroll:function(){this.editCur=!1},betting:function(){this.edit.bet&&(this.edit.betdlg=!0)},getMaxBet:function(){var t=this;this.$axios.get("http://01.coinunio.com/api/betgame/betmax/?BetId="+this.choose.BetId+"&betUnit="+this.isCur3).then(function(e){var i=e.data;i.IsSuccess?t.maxBet=i.Result:t.maxBet=""},function(e){t.maxBet=""})},ifNumber:function(t){return!isNaN(t)&&"NaN"!=parseFloat(t).toString()},sureBetting:function(){var t=this;if(/^[\s]*$/.test(this.edit.bet))this.$tips("请输入下单金额");else if(this.edit.bet=this.edit.bet.replace(/\s+/g,""),this.ifNumber(this.edit.bet))if(this.edit.bet=parseFloat(this.edit.bet).toString(),this.edit.bet<.01)this.$tips("下单金额最低为0.01");else{this.edit.betdlg=!1;var e={betId:this.choose.BetId,unit:this.isCur3,amount:this.edit.bet};this.$axios.post("http://01.coinunio.com/api/betgame/bet/",e).then(function(e){var i=e.data;i.IsSuccess?(t.edit.betdlg=!1,t.$tips("下单成功")):(t.edit.betdlg=!1,t.$get_error("tips",i.Code,i.Message))},function(e){t.edit.betdlg=!1,t.$get_error("network")})}else this.$tips("请输入数字")}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("scroll",{ref:"scroll",attrs:{onScroll:t.onScroll,top:"4"}},[s("div",{style:t.setScrollMinHeight()},[t._l(t.list1,function(e,i){return s("div",{staticClass:"list"},[s("p",{staticClass:" usual",staticStyle:{padding:"0.2rem 0.5rem"},attrs:{flex:"main:justify cross:center"}},[s("span",[t._v(t._s(e.BetId)+"场")]),t._v(" "),s("span",[t._v(t._s(e.BlockEndCount)+"个区块后公布")])]),t._v(" "),s("p",{staticStyle:{"text-align":"left",padding:"0 0.5rem"}},[t._v("开局者："+t._s(e.NickName))]),t._v(" "),s("div",{staticStyle:{position:"relative"}},[s("ul",{staticClass:"tab"},[s("li",{staticClass:"first  white",attrs:{flex:"cross:center box:mean"}},t._l(t.getTitle(e),function(a,n){return s("p",{on:{click:function(s){t.chooseBet(i,n,t.index3,e)}}},[t._v(t._s(a.name))])})),t._v(" "),s("li",{staticClass:"second  usual",attrs:{flex:"cross:center box:mean"}},[s("p",{staticClass:"second-td"},[t._v(t._s(e.UnitIndex))]),t._v(" "),t._l(e.Odds,function(a,n){return s("p",{staticClass:"second-td",class:i===t.isCur1&&n===t.isCur3?"cur miaobian-qiangreen":"",style:i,on:{click:function(s){t.chooseBet(i,t.index2,n,e)}}},[t._v(t._s(a))])})],2)])]),t._v(" "),s("div",{staticClass:"under-line",staticStyle:{margin:"0.3rem auto 0",width:"90%"}})])}),t._v(" "),t.empty?s("img",{staticClass:"takeCenter",staticStyle:{width:"2.5rem",padding:"2rem"},attrs:{src:i("VrhS")}}):t._e(),t._v(" "),s("paging",{ref:"pages",attrs:{totalPage:t.totalPage,pageFunc:t.getList}})],2)]),t._v(" "),t.editCur?s("div",{staticClass:"editItem cl"}):t._e(),t._v(" "),s("comfire-dialog",{attrs:{sure:t.sureBetting},model:{value:t.edit.betdlg,callback:function(e){t.$set(t.edit,"betdlg",e)},expression:"edit.betdlg"}},[s("p",{staticStyle:{"font-size":"0.5rem","text-align":"center","margin-bottom":"0.3rem"}},[t._v("竞猜")]),t._v(" "),s("div",{attrs:{flex:"main:left cross:center"}},[s("p",{staticClass:"betdlg "},[t._v("竞猜金额:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.edit.bet,expression:"edit.bet"}],staticClass:"betInput special-color",staticStyle:{border:"1px solid #8B5735"},attrs:{placeholder:"最低0.01FMVP"},domProps:{value:t.edit.bet},on:{input:function(e){e.target.composing||t.$set(t.edit,"bet",e.target.value)}}})]),t._v(" "),s("div",[s("div",{staticStyle:{height:"20px"}},[t.maxBetting?s("p",{staticClass:"betdlg ",staticStyle:{margin:"0.2rem 0","text-align":"left"}},[t._v("最大竞猜金额："),s("span",{staticClass:"betInput"},[t._v(t._s(t.maxBet))])]):t._e()])])])],1)},staticRenderFns:[]};var r=i("VU/8")(n,o,!1,function(t){i("eN+B")},"data-v-20acbee4",null);e.default=r.exports}});