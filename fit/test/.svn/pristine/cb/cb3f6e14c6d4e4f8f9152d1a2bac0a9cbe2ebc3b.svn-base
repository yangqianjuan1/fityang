webpackJsonp([15],{"4v50":function(e,t,i){"use strict";var s={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"record",staticStyle:{position:"relative"}},[e.Records.length>0?s("div",{staticClass:"contain",staticStyle:{margin:"0 auto",position:"relative"}},[0===e.type?s("div",{attrs:{flex:"main:center:cross:center"}},[0===e.type?s("ul",{staticStyle:{color:"#ffffff"}},[e._m(0),e._v(" "),e._l(e.Records,function(t,i){return s("div",{staticClass:" miaobian-lan"},[s("ul",{staticClass:"usual",staticStyle:{width:"100%"},attrs:{flex:"main:center cross:center box:mean"}},[s("li",{staticClass:"items"},[e._v(e._s(t.Time))]),e._v(" "),s("li",{staticClass:"items"},[e._v("+"+e._s(t.WeightAdded?t.WeightAdded:0)+"kg ")]),e._v(" "),s("li",{staticClass:"items"},[e._v("-"+e._s(t.FeedFee?t.FeedFee:0))]),e._v(" "),s("li",{staticClass:"items"},[e._v(e._s(t.ProfitValue?t.ProfitValue:"待结算")+" ")])]),e._v(" "),s("div",{staticClass:"under-line"})])})],2):e._e()]):e._e(),e._v(" "),1===e.type?s("div",{attrs:{flex:"main:center:cross:center"}},[1===e.type?s("ul",{staticStyle:{color:"#ffffff"}},[e._m(1),e._v(" "),e._l(e.Records,function(t,i){return s("div",{staticClass:" miaobian-lan"},[s("ul",{staticClass:"usual",staticStyle:{width:"100%"},attrs:{flex:"main:center cross:center box:mean"}},[s("li",{staticClass:"items"},[e._v(e._s(t.Time))]),e._v(" "),s("li",{staticClass:"items"},[e._v(e._s(t.FamilyProfitValue?t.FamilyProfitValue:0))])]),e._v(" "),s("div",{staticClass:"under-line"})])})],2):e._e()]):e._e()]):e._e(),e._v(" "),s("div",{staticStyle:{"text-align":"center"}},[e.empty?s("img",{staticStyle:{width:"2.5rem",padding:"1rem"},attrs:{src:i("VrhS")}}):e._e()]),e._v(" "),2===e.type?s("div",{staticClass:" usual from",staticStyle:{padding:"0.5rem"}},[s("p",[e._v("来源")]),e._v(" "),1===e.Records.Source||2===e.Records.Source||32===e.Records.Source||1024===e.Records.Source?s("p",[e._v("于"+e._s(e.Records.CreateTime)+"诞生。")]):e._e(),e._v(" "),4===e.Records.Source?s("p",[e._v("于"+e._s(e.Records.CreateTime)+"在"+e._s(e.getType(e.Records))+"#"+e._s(e.Records.ParentHorseNo)+"呵护中诞生。")]):e._e(),e._v(" "),8===e.Records.Source?s("p",[e._v("于"+e._s(e.Records.CreateTime)+"在捕虎场中获得。")]):e._e(),e._v(" "),16===e.Records.Source?s("p",[e._v("于"+e._s(e.Records.CreateTime)+"通过联盟邀请购买获得。")]):e._e(),e._v(" "),64===e.Records.Source||256===e.Records.Source||512===e.Records.Source?s("p",[e._v("于"+e._s(e.Records.CreateTime)+"活动赠送")]):e._e(),e._v(" "),128===e.Records.Source?s("p",[e._v("于"+e._s(e.Records.CreateTime)+"融合")]):e._e()]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"table-title miaobian-hong",attrs:{flex:"main:center cross:center box:mean"}},[t("div",[this._v("时间")]),this._v(" "),t("div",[this._v("体重")]),this._v(" "),t("div",[this._v("喂养")]),this._v(" "),t("div",[this._v("收益")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"table-title miaobian-hong",attrs:{flex:"main:center cross:center box:mean"}},[t("div",[this._v("时间")]),this._v(" "),t("div",[this._v("收益")])])}]};var a=i("VU/8")({name:"record",props:{type:{default:0},empty:{},Records:""},methods:{getType:function(e){switch(e.ParentLevelType){case 4:return"创世虎";case 2:return"神虎"}}}},s,!1,function(e){i("nUwn")},"data-v-4ba7b698",null);t.a=a.exports},EVLh:function(e,t,i){"use strict";var s={components:{TigerImg:i("eJJ5").a},name:"myDetails",props:{detail:{}},mounted:function(){},destroyed:function(){this.$Lazyload.$off("error")},methods:{getQueryString:function(e){return e||null}},computed:{horseUrl:function(){return this.detail.horse}},watch:{horseUrl:function(e){var t=this.getQueryString(e);if(t){this.horse=t;var i=this;this.$Lazyload.$once("error",function(e){e.el,e.src;setTimeout(function(){i.horse=t+"?t="+Math.random()},1e4)})}}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"details"},[t("div",{staticClass:"contain"},[this.detail.Style?t("tiger-img",{staticClass:"horse takeCenter",attrs:{Style:this.detail.Style}}):this._e(),this._v(" "),this._t("default")],2)])},staticRenderFns:[]};var r=i("VU/8")(s,a,!1,function(e){i("nTEX")},"data-v-53f52a5c",null);t.a=r.exports},IuzP:function(e,t){},nTEX:function(e,t){},nUwn:function(e,t){},tK2D:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mzkE"),a=i("E7z3"),r=i("TtmE"),o=i("4v50"),n=i("bh5B"),l=i("6iZb"),c=i("2DrX"),u=i("EVLh"),d={components:{TigerInfo:i("5azC").a,MyDetails:u.a,Copy:c.a,ComfireDialog:l.a,Scroll:n.a,Record:o.a,MyDialog:r.a,Foot:s.a},name:"tigerDetail",data:function(){return{tigerDetail:{},buyDialog:!1,bronWeight:200,Records:[],feedOffset:0,familyOffset:0,pageSize:20,maxFeedTimes:10,clientTotal:0,feedRecords:[],familyRecords:[],FeedEmpty:!0,sellType:!1,type:0,born:{dialog:!1,bornTime:"00.00",price:""},feed:{dialog:!1,bornTime:"00.00",price:10},bornDialog:!1,sell:{dialog:!1,price:"",outSell:!1},auction:{dialog:!1,price:""},shareDlg:!1,InviteUrl:"",synthesisDlg:!1,synthesisOffset:0,synthesisList:[],synthesisEmpty:!1}},mounted:function(){var e=this.$route.query.Key;this.getDetailInfo(e)},computed:{getTradeType:function(){switch(this.tigerDetail.TradeType){case 1:return"取消交易";case 8:return"竞拍中"}},getCur:function(){switch(this.type){case 0:return"nav_0";case 1:return"nav_1";case 2:return"nav_2"}},setPullUpLoad:function(){return{threshold:-60}}},methods:{openAuction:function(){this.sellType=!1,this.auction.dialog=!0},openSell:function(){this.sellType=!1,this.sell.dialog=!0},openSellType:function(){this.sell.price="",this.auction.price="",this.sellType=!0},closeDialog:function(){this.synthesisOffset=0,this.synthesisList=[],this.synthesisDlg=!1},toSynthesis:function(){this.getSynthesisList(),this.synthesisDlg=!0},canSynthesis:function(e){return e.IsGenesis?e.CanTransfer:!!e.IsStud&&e.CanTransfer},canBOrn:function(e){return!(!e.IsGenesis||!e.IsCanBreed)||!(!e.IsStud||!e.IsCanBreed)},canShare:function(e){return!!e.IsGenesis||(e.IsStud,!0)},share:function(e){this.tigerDetail.HorseKey?"family"===e?this.$router.push({path:"/inviteFamily",query:{type:"family",k:this.tigerDetail.HorseKey}}):"register"===e&&this.$router.push({path:"/inviter",query:{type:"register",k:this.tigerDetail.HorseKey}}):this.$tips("未找到有效ID,请刷新重试")},getSynthesisList:function(e){var t=this,i=void 0;i="UpLoad"===e?this.synthesisOffset:0;var s="";this.tigerDetail.IsGenesis?s=4:this.tigerDetail.IsStud&&(s=2);var r={offset:i,pageSize:this.pageSize,type:s};this.$axios.post("http://01.coinunio.com/api/activity/gettransferhorses/",r).then(function(i){var s=i.data;if(s.IsSuccess){if(s.Result.Data.length>0){var r=s.Result.Data.map(function(e){return e.horse=a.a.svgApi+e.HorseKey,e});t.synthesisList="UpLoad"===e?t.synthesisList.concat(r):r,t.synthesisOffset=t.synthesisList.length,t.synthesisEmpty=!1}else"UpLoad"===e||(t.synthesisEmpty=!0);t.$refs.scroll2.finishiPullUp()}else t.$refs.scroll2.finishiPullUp(),t.$get_error("tips",s.Code,s.Message)},function(e){t.$refs.scroll2.finishiPullUp(),t.$get_error("network")})},Synthesis:function(e){var t=this,i={newKey:this.tigerDetail.HorseKey,steedKey:e};this.$axios.post("http://01.coinunio.com/api/activity/transferfamily/",i).then(function(e){var i=e.data;i.IsSuccess?(t.$tips("合体成功！"),t.getDetailInfo(t.tigerDetail.HorseKey,"cancle")):t.$get_error("tips",i.Code,i.Message),t.synthesisDlg=!1},function(e){t.synthesisDlg=!1,t.$get_error("reload")})},getType:function(e){return e.IsGenesis?"创世虎":e.IsStud?"神虎":"猛虎"},pullUpLoadFuc:function(){0===this.type?this.getFeedList("UpLoad"):1===this.type&&this.getFamilyList("UpLoad"),this.$refs.scroll.finishiPullUp()},getFeedList:function(e){var t=this,i=void 0;i="UpLoad"===e?this.feedOffset:0;var s={horseId:this.tigerDetail.HorseKey,offset:i,size:this.pageSize};this.$axios.post("http://01.coinunio.com/api/horse/profits/",s).then(function(i){var s=i.data;if(s.IsSuccess)if(s.Result.length>0){t.FeedEmpty=!1;var a=s.Result;for(var r in a)a[r].Time=a[r].Time.slice(5,10);t.Records="UpLoad"===e?t.Records.concat(a):a,t.feedOffset=t.Records.length}else"UpLoad"===e||(t.FeedEmpty=!0);else t.$get_error("tips",s.Code,s.Message)},function(e){t.$get_error("network")})},getFamilyList:function(e){var t=this,i=void 0,s=void 0;i="UpLoad"===e?this.familyOffset:0,s="UpLoad"===e?this.clientTotal:0;var a={horseId:this.tigerDetail.HorseKey,offset:i,size:this.pageSize,clientTotal:s};this.$axios.post("http://01.coinunio.com/api/horse/familyprofits/",a).then(function(i){var s=i.data;if(s.IsSuccess)if(t.clientTotal=s.Result.total,s.Result.Data.length>0){t.FeedEmpty=!1;var a=s.Result.Data;for(var r in a)a[r].Time=a[r].Time.slice(5,10);t.Records="UpLoad"===e?t.Records.concat(a):a,t.familyOffset=t.Records.length}else"UpLoad"===e||(t.FeedEmpty=!0);else t.$get_error("tips",s.Code,s.Message)},function(e){t.$get_error("network")})},setScrollMinHeight:function(){if(document.getElementById("warp"))return"min-height:"+(document.getElementById("warp").offsetHeight+1)+"px"},getDetailInfo:function(e,t){var i=this;this.$axios.get("http://01.coinunio.com/api/horse/get/?Key="+e).then(function(e){var s=e.data;s.IsSuccess?(i.tigerDetail=s.Result,i.tigerDetail.horse=a.a.svgApi+s.Result.HorseKey,t||i.getFeedList()):i.$get_error("tips",s.Code,s.Message)},function(e){i.$get_error("reload")})},feedLabel:function(){this.Records=[],this.getFeedList(),this.type=0},profit:function(){this.Records=[],this.type=1,this.getFamilyList()},from:function(){this.Records=[],this.FeedEmpty=!1,this.type=2,this.Records=this.tigerDetail},beSell:function(){if(this.sellType=!1,!this.tigerDetail.HorseKey)return this.$tips("未找到有效ID,请刷新重试");if(this.tigerDetail.TradeStatus)switch(this.tigerDetail.TradeType){case 8:return;case 1:this.sell.outSell=!0}else this.openSell()},SellOut:function(){var e=this;this.sell.outSell=!1;var t={horseId:this.tigerDetail.HorseKey};this.$axios.post("http://01.coinunio.com/api/horse/trade/cancel/",t).then(function(t){var i=t.data;i.IsSuccess?(e.$tips("下架成功"),e.tigerDetail.TradeStatus=!1,e.getDetailInfo(e.tigerDetail.HorseKey,"cancle")):e.$get_error("tips",i.Code,i.Message)},function(t){e.$get_error("network")})},sureToAuction:function(){var e=this;if(!a.a.isNumber(this.auction.price))return this.$tips("请输入合法数字");(this.auction.price>this.$store.state.max||this.auction.price===this.$store.state.max)&&(this.auction.price=this.$store.state.max),this.auction.dialog=!1;var t={horseKey:this.tigerDetail.HorseKey,amount:this.auction.price};this.$axios.post("http://01.coinunio.com/api/horse/trade/userauctionsale/",t).then(function(t){var i=t.data;i.IsSuccess?(e.$tips("拍卖上架成功"),e.getDetailInfo(e.tigerDetail.HorseKey,"cancle")):e.$get_error("tips",i.Code,i.Message)},function(t){e.$get_error("network")})},sureToSell:function(){var e=this;if(!a.a.isNumber(this.sell.price))return this.$tips("请输入合法数字");(this.sell.price>this.$store.state.max||this.sell.price==this.$store.state.max)&&(this.sell.price=this.$store.state.max),this.sell.dialog=!1;var t={horseKey:this.tigerDetail.HorseKey,amount:this.sell.price};this.$axios.post("http://01.coinunio.com/api/horse/trade/sale/",t).then(function(t){var i=t.data;i.IsSuccess?(e.$tips("上架成功"),e.tigerDetail.TradeStatus=!0,e.getDetailInfo(e.tigerDetail.HorseKey,"cancle")):(e.tigerDetail.TradeStatus=!1,e.$get_error("tips",i.Code,i.Message))},function(t){e.$get_error("network")})},sureToBorn:function(){var e=this,t={horseId:this.tigerDetail.HorseKey};this.$axios.post("http://01.coinunio.com/api/horse/breed/",t).then(function(t){var i=t.data;i.IsSuccess?(e.getDetailInfo(e.tigerDetail.HorseKey,"cancle"),e.bornDialog=!0,e.bornDialogInfo=i.Result,e.bornDialogInfo.horse=a.a.svgApi+i.Result.HorseKey,e.born.dialog=!1):(e.bornDialog=!1,e.$get_error("tips",i.Code,i.Message),e.born.dialog=!1)},function(t){e.$get_error("network"),e.born.dialog=!1})},beFeed:function(){this.feed.dialog=!0},close:function(){this.sellType=!1},sureToFeed:function(){var e=this;this.feed.dialog=!1;var t={horseId:this.tigerDetail.HorseKey};this.$axios.post("http://01.coinunio.com/api/horse/feed/",t).then(function(t){var i=t.data;i.IsSuccess?(e.tigerDetail.FeedTimes=i.Result.Data.FeedTimes,e.tigerDetail.Weight=i.Result.Data.Weight,e.tigerDetail.IsCanBreed=i.Result.Data.IsCanBreed,e.tigerDetail.IsGenesis=i.Result.Data.IsGenesis,e.tigerDetail.IsStud=i.Result.Data.IsStud):e.$get_error("tips",i.Code,i.Message)},function(t){e.$get_error("network")})},sure:function(){this.bornDialog=!1}}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content",style:{"max-width":e.$store.state.maxWidth}},[i("scroll",{ref:"scroll",attrs:{pullUpLoad:e.setPullUpLoad,pullUpLoadFuc:e.pullUpLoadFuc,pullUpLoadFucParam:"UpLoad",bottom:"2.6"}},[i("div",{style:e.setScrollMinHeight()},[i("my-details",{attrs:{detail:e.tigerDetail}}),e._v(" "),i("div",{staticClass:"Info"},[i("div",{staticStyle:{height:"100%"},attrs:{flex:"dir:top main:center"}},[i("p",{attrs:{flex:"cross:center"}},[i("span",{staticClass:"ssr"},[e._v(e._s(e._f("rare")(e.tigerDetail.RareLevel)))]),i("span",[e._v("(战斗力："+e._s(e.tigerDetail.CombatPower)+")")])]),e._v(" "),i("p",{staticStyle:{"font-size":"0.42677rem","line-height":"0.7rem"}},[e._v(e._s(e.getType(e.tigerDetail))+"#"+e._s(e.tigerDetail.HorseNo))]),e._v(" "),i("p",{staticClass:"num-abc-warp"},[e._v(e._s(e.tigerDetail.HorseKey))])]),e._v(" "),i("p",[i("span",{staticStyle:{display:"inline-block","margin-right":"0.3rem"}},[e._v("堂主："+e._s(e.tigerDetail.SonCount))]),i("span",{staticStyle:{display:"inline-block"}},[e._v("弟子："+e._s(e.tigerDetail.GrandsonCount))])]),e._v(" "),i("p",{attrs:{flex:"main:justify"}},[i("span",[e._v("体重："+e._s(e.tigerDetail.Weight)+"kg")]),e.tigerDetail.IsGenesis?e._e():i("span",[e._v("生育值："+e._s(e.tigerDetail.BreedLimit))])]),e._v(" "),e.tigerDetail.TradeStatus?i("p",[e._v("售价："+e._s(e.tigerDetail.HorsePrice)+"FMVP")]):e._e(),e._v(" "),i("div",{staticStyle:{"margin-top":"0.2rem"},attrs:{flex:"main:right cross:center box:mean"}},[i("div",{staticStyle:{"text-align":"center"}},[e.canBOrn(e.tigerDetail)?i("button",{staticClass:"born  btn-yellow ",on:{click:e.sureToBorn}},[e._v("生育")]):e._e()]),e._v(" "),i("div",{staticStyle:{"text-align":"center"}},[e.tigerDetail.IsInitSend?e._e():i("button",{staticClass:"btn btn-violet",class:e.tigerDetail.TradeStatus?"unSell":"sell",on:{click:e.beSell}},[e.tigerDetail.TradeType?e._e():i("p",{staticStyle:{height:"100%",width:"100%",color:"#ffffff","font-size":"0.3rem"}},[e._v("立即出售")]),e._v(" "),e.tigerDetail.TradeType?i("div",[i("p",{staticStyle:{"font-size":"0.3rem",color:"#fff"}},[e._v(e._s(e.getTradeType))])]):e._e()])])]),e._v(" "),i("div",{staticStyle:{clear:"both"}})]),e._v(" "),i("div",{staticStyle:{position:"relative",top:"-0.4rem"}},[i("ul",{staticClass:" label",class:e.getCur,staticStyle:{"background-size":"60% 100%"},attrs:{flex:"main:center cross:center box:mean"}},[i("li",{staticClass:"title",class:0===e.type?"miaobian-hong white":"miaobian-bai",on:{click:e.feedLabel}}),e._v(" "),i("li",{staticClass:"title",class:1===e.type?"miaobian-hong white":"miaobian-bai",on:{click:e.profit}}),e._v(" "),i("li",{staticClass:"title",class:2===e.type?"miaobian-hong white":"miaobian-bai",on:{click:e.from}})]),e._v(" "),i("record",{attrs:{Records:e.Records,type:e.type,empty:e.FeedEmpty}})],1)],1)]),e._v(" "),i("div",{staticStyle:{"text-align":"center",position:"fixed",bottom:"2.6rem",width:"100%","max-width":"540px",margin:"0 auto"},attrs:{flex:"main:center cross:center "}},[i("div",{staticStyle:{width:"50%","text-align":"center"}},[e.canShare(e.tigerDetail)?i("button",{staticClass:"family btn-yellow",on:{click:function(t){e.share("family")}}},[e._v("联盟邀请")]):e._e()])]),e._v(" "),i("comfire-dialog",{attrs:{sure:e.sureToSell},model:{value:e.sell.dialog,callback:function(t){e.$set(e.sell,"dialog",t)},expression:"sell.dialog"}},[i("div",{staticStyle:{height:"100%"}},[i("p",{staticStyle:{"font-size":"0.5rem","text-align":"center","margin-bottom":"0.133rem"}},[e._v('出售"'),i("span",{staticStyle:{"font-size":"0.5rem",color:"#fe662e"}},[e._v(e._s(e.getType(e.tigerDetail))+"#"+e._s(e.tigerDetail.HorseNo))]),e._v('"')]),e._v(" "),i("div",{staticClass:" dialog ",staticStyle:{width:"90%",margin:"0 auto"},attrs:{flex:" cross:center"}},[i("span",{staticStyle:{"border-right":"1px solid #9A9A9A",width:"2.5rem"}},[e._v("出售价格")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sell.price,expression:"sell.price",modifiers:{number:!0}}],staticClass:"miaobian-bai usual",staticStyle:{height:"100%",width:"100%","font-size":"0.213rem","text-align":"center"},attrs:{type:"number",placeholder:"请输入出售价格"},domProps:{value:e.sell.price},on:{input:function(t){t.target.composing||e.$set(e.sell,"price",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])])]),e._v(" "),i("comfire-dialog",{attrs:{sure:e.SellOut},model:{value:e.sell.outSell,callback:function(t){e.$set(e.sell,"outSell",t)},expression:"sell.outSell"}},[i("div",[i("p",{staticStyle:{"font-size":"0.5rem","text-align":"center"}},[e._v("确认下架")]),e._v(" "),i("p",{staticStyle:{"margin-top":"0.3rem","text-align":"center"}},[e._v("确认将编号为"),i("span",{staticStyle:{display:"inline",padding:"0",color:"#fe662e"}},[e._v("#"+e._s(e.tigerDetail.HorseNo))]),e._v("的老虎从交易市场下架？")])])]),e._v(" "),i("my-dialog",{attrs:{dialogOpen:e.bornDialog}},[i("div",{staticClass:" takeCenter",staticStyle:{"text-align":"center",width:"80%"},attrs:{flex:" dir:top main:center cross:center"}},[i("tiger-info",{staticStyle:{width:"5rem"},attrs:{Info:e.bornDialogInfo,id:"bronResult",type:4}}),e._v(" "),i("button",{staticClass:"sure btn-yellow",on:{click:e.sure}},[e._v("确认领取")])],1)])],1)},staticRenderFns:[]};var f=i("VU/8")(d,h,!1,function(e){i("IuzP")},"data-v-01db2fce",null);t.default=f.exports}});