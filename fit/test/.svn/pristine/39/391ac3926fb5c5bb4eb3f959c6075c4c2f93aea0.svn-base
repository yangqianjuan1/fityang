webpackJsonp([14],{"+ETE":function(t,e){},"4v50":function(t,e,s){"use strict";var i={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"record",staticStyle:{position:"relative"}},[t.Records.length>0?i("div",{staticClass:"contain",staticStyle:{margin:"0 auto",position:"relative"}},[0===t.type?i("div",{attrs:{flex:"main:center:cross:center"}},[0===t.type?i("ul",{staticStyle:{color:"#ffffff"}},[t._m(0),t._v(" "),t._l(t.Records,function(e,s){return i("div",{staticClass:" miaobian-lan"},[i("ul",{staticClass:"usual",staticStyle:{width:"100%"},attrs:{flex:"main:center cross:center box:mean"}},[i("li",{staticClass:"items"},[t._v(t._s(e.Time))]),t._v(" "),i("li",{staticClass:"items"},[t._v("+"+t._s(e.WeightAdded?e.WeightAdded:0)+"kg ")]),t._v(" "),i("li",{staticClass:"items"},[t._v("-"+t._s(e.FeedFee?e.FeedFee:0))]),t._v(" "),i("li",{staticClass:"items"},[t._v(t._s(e.ProfitValue?e.ProfitValue:"待结算")+" ")])]),t._v(" "),i("div",{staticClass:"under-line"})])})],2):t._e()]):t._e(),t._v(" "),1===t.type?i("div",{attrs:{flex:"main:center:cross:center"}},[1===t.type?i("ul",{staticStyle:{color:"#ffffff"}},[t._m(1),t._v(" "),t._l(t.Records,function(e,s){return i("div",{staticClass:" miaobian-lan"},[i("ul",{staticClass:"usual",staticStyle:{width:"100%"},attrs:{flex:"main:center cross:center box:mean"}},[i("li",{staticClass:"items"},[t._v(t._s(e.Time))]),t._v(" "),i("li",{staticClass:"items"},[t._v(t._s(e.FamilyProfitValue?e.FamilyProfitValue:0))])]),t._v(" "),i("div",{staticClass:"under-line"})])})],2):t._e()]):t._e()]):t._e(),t._v(" "),i("div",{staticStyle:{"text-align":"center"}},[t.empty?i("img",{staticStyle:{width:"2.5rem",padding:"1rem"},attrs:{src:s("VrhS")}}):t._e()]),t._v(" "),2===t.type?i("div",{staticClass:" usual from",staticStyle:{padding:"0.5rem"}},[i("p",[t._v("来源")]),t._v(" "),1===t.Records.Source||2===t.Records.Source||32===t.Records.Source||1024===t.Records.Source?i("p",[t._v("于"+t._s(t.Records.CreateTime)+"诞生。")]):t._e(),t._v(" "),4===t.Records.Source?i("p",[t._v("于"+t._s(t.Records.CreateTime)+"在"+t._s(t.getType(t.Records))+"#"+t._s(t.Records.ParentHorseNo)+"呵护中诞生。")]):t._e(),t._v(" "),8===t.Records.Source?i("p",[t._v("于"+t._s(t.Records.CreateTime)+"在捕虎场中获得。")]):t._e(),t._v(" "),16===t.Records.Source?i("p",[t._v("于"+t._s(t.Records.CreateTime)+"通过联盟邀请购买获得。")]):t._e(),t._v(" "),64===t.Records.Source||256===t.Records.Source||512===t.Records.Source?i("p",[t._v("于"+t._s(t.Records.CreateTime)+"活动赠送")]):t._e(),t._v(" "),128===t.Records.Source?i("p",[t._v("于"+t._s(t.Records.CreateTime)+"融合")]):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"table-title miaobian-hong",attrs:{flex:"main:center cross:center box:mean"}},[e("div",[this._v("时间")]),this._v(" "),e("div",[this._v("体重")]),this._v(" "),e("div",[this._v("喂养")]),this._v(" "),e("div",[this._v("收益")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"table-title miaobian-hong",attrs:{flex:"main:center cross:center box:mean"}},[e("div",[this._v("时间")]),this._v(" "),e("div",[this._v("收益")])])}]};var a=s("VU/8")({name:"record",props:{type:{default:0},empty:{},Records:""},methods:{getType:function(t){switch(t.ParentLevelType){case 4:return"创世虎";case 2:return"神虎"}}}},i,!1,function(t){s("nUwn")},"data-v-4ba7b698",null);e.a=a.exports},BdG8:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mzkE"),a=s("E7z3"),r=s("TtmE"),o=s("4v50"),n=s("bh5B"),c=s("6iZb"),l={components:{MyDetails:s("EVLh").a,ComfireDialog:c.a,Scroll:n.a,Record:o.a,MyDialog:r.a,Foot:i.a},name:"buyDetail",data:function(){return{detail:{},buyDialog:!1,Records:[],feedOffset:0,familyOffset:0,FeedEmpty:!1,feedRecords:[],familyRecords:[],type:0,clientTotal:0,pageSize:20}},mounted:function(){var t=this.$route.query.tigerKey;this.getInfo(t)},computed:{getAuction:function(){return this.$route.query.type},getCur:function(){switch(this.type){case 0:return"nav_0";case 1:return"nav_1";case 2:return"nav_2"}},setPullUpLoad:function(){return{threshold:-60}}},methods:{getType:function(t){return t.IsGenesis?"创世虎":t.IsStud?"神虎":"猛虎"},pullUpLoadFuc:function(){0===this.type?this.getFeedList("UpLoad"):1===this.type&&this.getFamilyList("UpLoad"),this.$refs.scroll.finishiPullUp()},getFeedList:function(t){var e=this,s=void 0;s="UpLoad"===t?this.feedOffset:0;var i={horseId:this.detail.HorseKey,offset:s,size:this.pageSize};this.$axios.post("http://01.coinunio.com/api/horse/profits/",i).then(function(s){var i=s.data;if(i.IsSuccess)if(i.Result.length>0){e.FeedEmpty=!1;var a=i.Result;for(var r in a)a[r].Time=a[r].Time.slice(5,10);e.Records="UpLoad"===t?e.Records.concat(a):a,e.feedOffset=e.Records.length}else"UpLoad"===t||(e.FeedEmpty=!0);else e.$get_error("tips",i.Code,i.Message)},function(t){e.$get_error("network")})},getFamilyList:function(t){var e=this,s=void 0,i=void 0;s="UpLoad"===t?this.familyOffset:0,i="UpLoad"===t?this.clientTotal:0;var a={horseId:this.detail.HorseKey,offset:s,size:this.pageSize,clientTotal:i};this.$axios.post("http://01.coinunio.com/api/horse/familyprofits/",a).then(function(s){var i=s.data;if(i.IsSuccess)if(e.clientTotal=i.Result.total,i.Result.Data.length>0){e.FeedEmpty=!1;var a=i.Result.Data;for(var r in a)a[r].Time=a[r].Time.slice(5,10);e.Records="UpLoad"===t?e.Records.concat(a):a,e.familyOffset=e.Records.length}else"UpLoad"===t||(e.FeedEmpty=!0);else e.$get_error("tips",i.Code,i.Message)},function(t){e.$get_error("network")})},setScrollMinHeight:function(){if(document.getElementById("warp"))return"min-height:"+(document.getElementById("warp").offsetHeight+1)+"px"},getInfo:function(t){var e=this;this.$axios.get("http://01.coinunio.com/api/horse/trade/getdetail/?horseKey="+t).then(function(t){var s=t.data;s.IsSuccess?(e.detail=s.Result,e.detail.horse=a.a.svgApi+s.Result.HorseKey,e.getFeedList()):e.$get_error("tips",s.Code,s.Message)},function(t){e.$get_error("reload")})},buy:function(){this.buyDialog=!0},feed:function(){this.Records=[],this.type=0,this.getFeedList()},profit:function(){this.Records=[],this.type=1,this.getFamilyList()},from:function(){this.Records=[],this.FeedEmpty=!1,this.type=2,this.Records=this.detail},onceCheckSure:function(){var t=this;this.buyDialog=!1;var e={horseTradeKey:this.detail.HorseTradeKey};this.$axios.post("http://01.coinunio.com/api/horse/trade/buy/",e).then(function(e){var s=e.data;s.IsSuccess?(t.$tips("购买成功"),t.$router.push({path:"/user",query:{type:0}})):t.$get_error("tips",s.Code,s.Message)},function(e){t.$get_error("network")})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("div",{staticClass:"content",style:{"max-width":t.$store.state.maxWidth}}),t._v(" "),s("scroll",{ref:"scroll",attrs:{pullUpLoad:t.setPullUpLoad,pullUpLoadFuc:t.pullUpLoadFuc,pullUpLoadFucParam:"UpLoad",bottom:"2.6"}},[s("div",{style:t.setScrollMinHeight()},[s("my-details",{attrs:{detail:t.detail}}),t._v(" "),s("div",[s("div",{staticClass:"Info"},[s("div",{staticStyle:{height:"100%"},attrs:{flex:"dir:top main:center"}},[s("p",{attrs:{flex:"cross:center"}},[s("span",{staticClass:"ssr"},[t._v(t._s(t._f("rare")(t.detail.RareLevel)))]),s("span",{staticStyle:{display:"inline-block",height:"0.5rem"}},[t._v("(战斗力："+t._s(t.detail.CombatPower)+")")])]),t._v(" "),s("p",{staticStyle:{"font-size":"0.42677rem","line-height":"0.7rem"}},[t._v(t._s(t.getType(t.detail))+"#"+t._s(t.detail.HorseNo))]),t._v(" "),s("p",{staticClass:"num-abc-warp"},[t._v(t._s(t.detail.HorseKey))])]),t._v(" "),s("p",[s("span",{staticStyle:{display:"inline-block","margin-right":"0.3rem"}},[t._v("堂主："+t._s(t.detail.SonCount))]),s("span",{staticStyle:{display:"inline-block"}},[t._v("弟子："+t._s(t.detail.GrandsonCount))])]),t._v(" "),s("p",{attrs:{flex:"main:justify"}},[s("span",[t._v("体重："+t._s(t.detail.Weight)+"kg")]),t.detail.IsGenesis?t._e():s("span",[t._v("生育值："+t._s(t.detail.BreedLimit))])])])]),t._v(" "),s("div",{staticStyle:{position:"relative",top:"-0.4rem"}},[s("ul",{staticClass:" label",class:t.getCur,staticStyle:{"background-size":"60% 100%"},attrs:{flex:"main:center cross:center box:mean"}},[s("li",{staticClass:"title",class:0===t.type?"miaobian-hong white":"miaobian-bai",on:{click:t.feed}}),t._v(" "),s("li",{staticClass:"title",class:1===t.type?"miaobian-hong white":"miaobian-bai",on:{click:t.profit}}),t._v(" "),s("li",{staticClass:"title",class:2===t.type?"miaobian-hong white":"miaobian-bai",on:{click:t.from}})]),t._v(" "),s("record",{attrs:{Records:t.Records,type:t.type,empty:t.FeedEmpty}})],1)],1)]),t._v(" "),t.getAuction?t._e():s("button",{staticClass:"btn btn-yellow cl",staticStyle:{position:"fixed",bottom:"2.6rem"},on:{click:t.buy}},[s("p",{staticStyle:{color:"#ffffff"}},[t._v(t._s(t.detail.HorsePrice)+"FMVP 立即购买")])]),t._v(" "),s("comfire-dialog",{attrs:{sure:t.onceCheckSure},model:{value:t.buyDialog,callback:function(e){t.buyDialog=e},expression:"buyDialog"}},[s("p",{staticStyle:{"font-size":"0.5rem","text-align":"center"}},[t._v("确认支付")]),t._v(" "),s("p",{staticStyle:{"margin-top":"0.3rem","text-align":"center"}},[t._v("购买"+t._s(t.getType(t.detail))),s("span",{staticClass:"special-color",staticStyle:{display:"inline-block"}},[t._v("#"+t._s(t.detail.HorseNo))]),t._v("，确认支付"),s("span",{staticClass:"special-color",staticStyle:{display:"inline-block"}},[t._v(t._s(t.detail.HorsePrice))]),t._v("FMVP！")])])],1)},staticRenderFns:[]};var u=s("VU/8")(l,d,!1,function(t){s("+ETE")},"data-v-fea6e45a",null);e.default=u.exports},EVLh:function(t,e,s){"use strict";var i={components:{TigerImg:s("eJJ5").a},name:"myDetails",props:{detail:{}},mounted:function(){},destroyed:function(){this.$Lazyload.$off("error")},methods:{getQueryString:function(t){return t||null}},computed:{horseUrl:function(){return this.detail.horse}},watch:{horseUrl:function(t){var e=this.getQueryString(t);if(e){this.horse=e;var s=this;this.$Lazyload.$once("error",function(t){t.el,t.src;setTimeout(function(){s.horse=e+"?t="+Math.random()},1e4)})}}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"details"},[e("div",{staticClass:"contain"},[this.detail.Style?e("tiger-img",{staticClass:"horse takeCenter",attrs:{Style:this.detail.Style}}):this._e(),this._v(" "),this._t("default")],2)])},staticRenderFns:[]};var r=s("VU/8")(i,a,!1,function(t){s("nTEX")},"data-v-53f52a5c",null);e.a=r.exports},nTEX:function(t,e){},nUwn:function(t,e){}});